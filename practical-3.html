<!DOCTYPE html>
<html>

<head>
    <title>Table Example</title>
</head>

<body>

    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            border: 1px solid #000000;
            text-align: left;
            padding: 8px;
        }
    </style>

    <h1>Currency List</h1>

    <div id="data-table">
        <table id="currency-table">
            <tr>
                <th>Data set id</th>
                <th>Record id</th>
                <th>field</th>
                <th>currency</th>
                <th>rate</th>
            </tr>
        </table>
    </div>

    <script type="text/javascript" charset="utf-8">

        var apiJsonData = [
            {
                "datasetid": "euro-exchange-rates",
                "recordid": "43f5940bfd6881b2f8e0c434a3a96f229a8a1054",
                "fields": {
                    "date": "2022-03-06",
                    "currency": "USD",
                    "rate": 1.0929
                }
            },
            {
                "datasetid": "euro-exchange-rates",
                "recordid": "1787f87bcf029a223e001d6f88750fe0ca6772d1",
                "fields": {
                    "date": "2022-03-06",
                    "currency": "AUD",
                    "rate": 1.4872
                }
            },
            {
                "datasetid": "euro-exchange-rates",
                "recordid": "756f0f685431156ad1d3bc24b91d574c5a6f00fa",
                "fields": {
                    "date": "2022-03-06",
                    "currency": "CAD",
                    "rate": 1.3937
                }
            },
            {
                "datasetid": "euro-exchange-rates",
                "recordid": "58e15a0abb6fc40d08a10ae0f58fc2c9525b267a",
                "fields": {
                    "date": "2022-03-06",
                    "currency": "GBP",
                    "rate": 0.8238800000000001
                }
            },
            {
                "datasetid": "euro-exchange-rates",
                "recordid": "4f7879e2c8e97bc11ae065f748a2e13f2cd73c71",
                "fields": {
                    "date": "2022-03-06",
                    "currency": "SEK",
                    "rate": 10.7935
                }
            },
            {
                "datasetid": "euro-exchange-rates",
                "recordid": "e3f948548d1479dff8b10aeaaf0c247e17b70897",
                "fields": {
                    "date": "2022-03-06",
                    "currency": "MXN",
                    "rate": 22.7543
                }
            }
        ]
        currencyRecord(apiJsonData);


        function currencyRecord(curList) {
            const mytable = document.getElementById("currency-table");
            curList.forEach(curItm => {
                let newRow = document.createElement("tr");
                Object.values(curItm).forEach((value) => {


                    let cell = document.createElement("td");
                    cell.innerText = value;
                    if (typeof value === 'object') {
                        // console.log(value)
                        Object.keys(value).forEach(itm => {
                            let cell1 = document.createElement("td");
                            console.log("value[itm]", value[itm])
                            cell1.innerText = value[itm];
                            newRow.appendChild(cell1);

                        })
                    } else {
                        newRow.appendChild(cell);

                    }

                })
                mytable.appendChild(newRow);
            });
        }
    </script>
</body>

</html>